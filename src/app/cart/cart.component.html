<div class="cart-container">
  <h1 class="cart-title">
    ðŸ›’ Your Shopping Cart
    <span class="cart-count"></span>
  </h1>

  <!-- cart_item -->
  <div>
    @if(CartServiceService.getCartItem().length == 0){
    <div class="empty-cart">
      <p class="empty-message">Your cart is empty ðŸ˜Ž</p>
      <a routerLink="/" class="continue-shopping"> ðŸ”™Continue Shopping </a>
    </div>
    } @for(item of CartServiceService.getCartItem(); track item.id ){

    <div class="cart-items-list">
      <div class="cart-item">
        <!-- Product Info -->
        <input
          type="checkbox"
          style="width: 40px; height: 30px; margin-right: 10px"
          [checked]="item.is_select"
          (change)="CartServiceService.SelectCartItem(item)"
        />
        <div class="product-info">
          <img [src]="item.image" [alt]="item.title" class="product-image" />
          <div class="product-details">
            <h2 class="product-title">{{ item.title }}</h2>
            <p
              style="
                color: rgb(118, 117, 117);
                margin-top: -2px;
                margin-bottom: -1px;
              "
            >
              {{ item.category }}
            </p>
            <p class="product-price">
              Price: <span>{{ item.price | currency }}</span>
            </p>
            <p class="product-total">
              Total:<b
                style="
                  font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial,
                    sans-serif;
                "
                >{{ item.price * item.qty | currency }}</b
              >
            </p>
          </div>
        </div>

        <!-- Quantity Controls -->
        <div class="quantity-controls">
          <button
            class="quantity-btn"
            (click)="CartServiceService.decremenQty(item)"
          >
            -
          </button>
          <span class="quantity-value">{{ item.qty }}</span>
          <button
            class="quantity-btn"
            (click)="CartServiceService.incremenQty(item)"
          >
            +
          </button>
        </div>

        <!-- Delete Button -->
        <button
          class="delete-btn"
          (click)="CartServiceService.removeCartItem(item)"
        >
          ðŸ—‘ Remove
        </button>
      </div>
    </div>
    } @if(CartServiceService.getCartItem().length > 0){

    <div class="cart-footer">
      <h2 class="cart-total">
        Total:{{ CartServiceService.getCartTotal() | currency }}$
      </h2>
      <div class="action-buttons">
        <button
          class="clear-btn"
          (click)="CartServiceService.removeallCartItem(cart_item)"
          style="font-family: unset"
        >
          ðŸ§¹ Clear Cart
        </button>
        <button
          routerLink="/checkout"
          class="checkout-btn"
          style="font-family: unset"
          routerLink="/checkout"
        >
          ðŸ’³ Proceed to Checkout
        </button>
      </div>
    </div>
    }
  </div>
</div>
